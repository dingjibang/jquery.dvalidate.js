/**
 *	JQuery.DValidate.js
 *	https://github.com/dingjibang/jquery.dvalidate.js
*/
window.Dvalidate=window.Dvalidate||{},function($){$.fn.validate=function(options){var that,message,_checker,checker,submitCheck,_detail,i18n=window.Dvalidate.i18n=window.Dvalidate.i18n||{number:"此属性必须为数字",empty:"此属性不能为空",space:"不能包含空格",max:"长度不能大于{{}}位",min:"长度不能小于{{}}位",character:"只能是数字/字母类型的字符",email:"邮箱格式不正确"};if(0!=$(this).length)return that=$(this),message=function(dom){var id,msg,layId;"undefined"!=typeof $._data(dom,"events")&&"undefined"!=typeof $._data(dom,"events").error?$(dom).error():(id="layTip"+Math.random(),msg=dom.error.msg,$(dom).attr("error")&&(dom=eval("$(dom)."+$(dom).attr("error")+"()")),layId=layTip.tips("<span id='"+id+"'>"+msg+"</span>",dom,{tipsMore:!0,scrollbar:!0,zIndex:99}),$("#"+id).one("mouseenter",function(){layTip.close(layId)}),$(dom).one("mouseenter",function(){layTip.close(layId)}))},_checker=function(a,b){var c,d,e,f,g;return b||(a.error={has:!1}),c=$(a).is("input[type='radio']"),"undefined"==typeof window.event||"undefined"==typeof window.event.propertyName||"value"==window.event.propertyName?(d=function(b){var d,c=$(a).attr("check").split(" ");for(d in c)if(b==c[d])return!0;return!1},e=function(c,d){var e={msg:c,dom:a,type:d,has:!0};return b?e:(a.error=e,void 0)},d("number")&&(null==$(a).val()||isNaN($(a).val()))?e(i18n.number,"number"):d("empty")&&(null==$(a).val()||0==$(a).val().trim().length)||c&&void 0==$(a).parents("[dvalidate]").find("input[type='radio'][name='"+$(a).attr("name")+"']:checked").val()?e(i18n.empty,"empty"):d("max")&&(f=parseInt($(a).attr("max")),$(a).val().length>f)?e(_detail(i18n.max,[f]),"max"):d("min")&&(g=parseInt($(a).attr("min")),$(a).val().length<g)?e(_detail(i18n.min,[g]),"min"):d("email")&&!/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test($(a).val())?e(i18n.email,"email"):d("character")&&/[^\w\.\/]/gi.test($(a).val())?e(i18n.character,"character"):void 0):void 0},checker=function(){_checker(this,!1)},submitCheck=function(a){var b=!1;return $(a).find("input[check],select[check],textarea[check]").not("[disabled]").each(checker).each(function(){b=this.error.has?!0:b,!this.error.has||$(this).is("input[type='radio']")&&this!=$(a).find("input[type='radio'][name='"+$(this).attr("name")+"']")[0]||message($(this)[0])}),b},"undefined"==typeof this.validateEnable&&$(this).each(function(){$(this),$(this).find("input[check],select[check]").not("[disabled]").on("blur change input",checker),$(this).submit(function(a){var b=submitCheck(this);return b&&(a.preventDefault(),$(this).error()),!0})}),this.validateEnable=!0,_detail=function(a,b){for(var c in b)a=a.replace("{{}}",b[c]);return a},{check:function(a){var b,c;return a?(b="string"==typeof a?that.find(a):a,c=_checker(b,!0),void 0==c?{has:!1}:c):!submitCheck(that)}}}}(jQuery),$(function(){$("form[validate]").validate()}),!function(a){var c,d,h,e={getPath:function(){var a=document.scripts,a=a[a.length-1],b=a.src;return a.getAttribute("merge")?void 0:b.substring(0,b.lastIndexOf("/")+1)}(),enter:function(a){13===a.keyCode&&a.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},f={v:"2.4",ie6:!!a.ActiveXObject&&!a.XMLHttpRequest,index:0,path:e.getPath,config:function(a,b){var d=0;return a=a||{},f.cache=e.config=c.extend(e.config,a),f.path=e.config.path||f.path,"string"==typeof a.extend&&(a.extend=[a.extend]),f.use("skin/layer.css",a.extend&&0<a.extend.length?function g(){var c=a.extend;f.use(c[c[d]?d:d-1],d<c.length?function(){return++d,g}():b)}():b),this},use:function(a,b,d){var g,h,i,e=c("head")[0];return a=a.replace(/\s/g,""),g=/\.css$/.test(a),h=document.createElement(g?"link":"script"),i="layui_layer_"+a.replace(/\.|\//g,""),f.path?(g&&(h.rel="stylesheet"),h[g?"href":"src"]=/^http:\/\//.test(a)?a:f.path+a,h.id=i,c("#"+i)[0]||e.appendChild(h),function j(){if(g?1989===parseInt(c("#"+i).css("width")):f[d||i]){b&&b();try{g||e.removeChild(h)}catch(a){}}else setTimeout(j,100)}(),this):void 0},tips:function(a,b,d){return f.open(c.extend({type:4,content:[a,b],closeBtn:!1,time:3e3,shade:!1,fix:!1,maxWidth:210},d))}},g=function(a){this.index=++f.index,this.config=c.extend({},this.config,e.config,a),this.creat()};g.pt=g.prototype,h=["layui-layer"],h.anim=["layer-anim"],g.pt.config={type:0,shade:.3,fix:!0,move:h[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",time:0,zIndex:19891014,maxWidth:360,shift:0,tips:2},g.pt.vessel=function(a,b){var c=this.index,d=this.config,f=d.zIndex+c,g="object"==typeof d.title,g=d.title?'<div class="layui-layer-title" style="'+(g?d.title[1]:"")+'">'+(g?d.title[0]:d.title)+"</div>":"";return d.zIndex=f,b([d.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+c+'" times="'+c+'" style="'+("z-index:"+(f-1)+"; background-color:"+(d.shade[1]||"#000")+"; opacity:"+(d.shade[0]||d.shade)+"; filter:alpha(opacity="+(100*d.shade[0]||100*d.shade)+");")+'"></div>':"",'<div class="'+h[0]+(" layui-layer-"+e.type[d.type])+(0!=d.type&&2!=d.type||d.shade?"":" layui-layer-border")+" "+(d.skin||"")+'" id="'+h[0]+c+'" type="'+e.type[d.type]+'" times="'+c+'" showtime="'+d.time+'" conType="'+(a?"object":"string")+'" style="z-index: '+f+"; width:"+d.area[0]+";height:"+d.area[1]+(d.fix?"":";position:absolute;")+'">'+(a&&2!=d.type?"":g)+'<div id="'+(d.id||"")+'" class="layui-layer-content'+(0==d.type&&-1!==d.icon?" layui-layer-padding":"")+(3==d.type?" layui-layer-loading"+d.icon:"")+'">'+(1==d.type&&a?"":d.content||"")+'</div><span class="layui-layer-setwin"></span></div>'],g),this},g.pt.creat=function(){var a=this,b=a.config,g=a.index,i=b.content,j="object"==typeof i;if(!c("#"+b.id)[0]){switch("string"==typeof b.area&&(b.area="auto"===b.area?["",""]:[b.area,""]),b.type){case 0:b.btn="btn"in b?b.btn:e.btn[0],f.closeAll("dialog");break;case 2:i=b.content=j?b.content:[b.content||"http://layer.layui.com","auto"],b.content='<iframe scrolling="'+(b.content[1]||"auto")+'" allowtransparency="true" id="'+h[4]+g+'" name="'+h[4]+g+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+b.content[0]+'"></iframe>';break;case 3:b.title=!1,b.closeBtn=!1,-1===b.icon&&0===b.icon,f.closeAll("loading");break;case 4:j||(b.content=[b.content,"body"]),b.follow=b.content[1],b.content=b.content[0]+'<i class="layui-layer-TipsG"></i>',b.title=!1,b.tips="object"==typeof b.tips?b.tips:[b.tips,!0],b.tipsMore||f.closeAll("tips")}a.vessel(j,function(d,e){c("body").append(d[0]),j?2==b.type||4==b.type?c("body").append(d[1]):i.parents("."+h[0])[0]||(i.show().addClass("layui-layer-wrap").wrap(d[1]),c("#"+h[0]+g).find("."+h[5]).before(e)):c("body").append(d[1]),a.layero=c("#"+h[0]+g),b.scrollbar||h.html.css("overflow","hidden").attr("layer-full",g)}).auto(g),2==b.type&&f.ie6&&a.layero.find("iframe").attr("src",i[0]),c(document).off("keydown",e.enter).on("keydown",e.enter),a.layero.on("keydown",function(){c(document).off("keydown",e.enter)}),4==b.type?a.tips():a.offset(),b.fix&&d.on("resize",function(){a.offset(),(/^\d+%$/.test(b.area[0])||/^\d+%$/.test(b.area[1]))&&a.auto(g),4==b.type&&a.tips()}),0>=b.time||setTimeout(function(){f.close(a.index)},b.time),h.anim[b.shift]&&a.layero.addClass(h.anim[b.shift])}},g.pt.auto=function(a){function b(a){a=f.find(a),a.height(g[1]-i-j-2*(0|parseFloat(a.css("padding"))))}var g,i,j,e=this.config,f=c("#"+h[0]+a);switch(""===e.area[0]&&0<e.maxWidth&&(/MSIE 7/.test(navigator.userAgent)&&e.btn&&f.width(f.innerWidth()),f.outerWidth()>e.maxWidth&&f.width(e.maxWidth)),g=[f.innerWidth(),f.innerHeight()],i=f.find(h[1]).outerHeight()||0,j=f.find("."+h[6]).outerHeight()||0,e.type){case 2:b("iframe");break;default:""===e.area[1]?e.fix&&g[1]>=d.height()&&(g[1]=d.height(),b("."+h[5])):b("."+h[5])}return this},g.pt.tips=function(){var g,i,a=this.config,b=this.layero,e=[b.outerWidth(),b.outerHeight()],f=c(a.follow);f[0]||(f=c("body")),g={width:f.outerWidth(),height:f.outerHeight(),top:f.offset().top,left:f.offset().left},i=b.find(".layui-layer-TipsG"),f=a.tips[0],a.tips[1]||i.remove(),g.autoLeft=function(){0<g.left+e[0]-d.width()?(g.tipLeft=g.left+g.width-e[0],i.css({right:12,left:"auto"})):g.tipLeft=g.left},g.where=[function(){g.autoLeft(),g.tipTop=g.top-e[1]-10,i.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",a.tips[1])},function(){g.tipLeft=g.left+g.width+10,g.tipTop=g.top,i.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",a.tips[1])},function(){g.autoLeft(),g.tipTop=g.top+g.height+10,i.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",a.tips[1])},function(){g.tipLeft=g.left-e[0]-10,g.tipTop=g.top,i.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",a.tips[1])}],g.where[f-1](),1===f?0>g.top-(d.scrollTop()+e[1]+16)&&g.where[2]():2===f?0<d.width()-(g.left+g.width+e[0]+16)||g.where[3]():3===f?0<g.top-d.scrollTop()+g.height+e[1]+16-d.height()&&g.where[0]():4===f&&0<e[0]+16-g.left&&g.where[1](),b.find("."+h[5]).css({"background-color":a.tips[1],"padding-right":a.closeBtn?"30px":""}),b.css({left:g.tipLeft-(a.fix?d.scrollLeft():0),top:g.tipTop-(a.fix?d.scrollTop():0)})},e.reselect=function(){c.each(c("select"),function(){var d=c(this);d.parents("."+h[0])[0]||1==d.attr("layer")&&1>c("."+h[0]).length&&d.removeAttr("layer").show()})},g.pt.IE6=function(a){function b(){a.css({top:f+(e.config.fix?d.scrollTop():0)})}var e=this,f=a.offset().top;b(),d.scroll(b),c("select").each(function(){var d=c(this);d.parents("."+h[0])[0]||"none"===d.css("display")||d.attr({layer:"1"}).hide()})},e.rescollbar=function(a){h.html.attr("layer-full")==a&&(h.html[0].style.removeProperty?h.html[0].style.removeProperty("overflow"):h.html[0].style.removeAttribute("overflow"),h.html.removeAttr("layer-full"))},a.layTip=f,f.close=function(a){var g,b=c("#"+h[0]+a),d=b.attr("type");if(b[0]){if(d===e.type[1]&&"object"===b.attr("conType"))for(b.children(":not(."+h[5]+")").remove(),d=0;2>d;d++)b.find(".layui-layer-wrap").unwrap().hide();else{if(d===e.type[2])try{g=c("#"+h[4]+a)[0],g.contentWindow.document.write(""),g.contentWindow.close(),b.find("."+h[5])[0].removeChild(g)}catch(i){}b[0].innerHTML="",b.remove()}c("#layui-layer-moves, #layui-layer-shade"+a).remove(),f.ie6&&e.reselect(),e.rescollbar(a),c(document).off("keydown",e.enter),"function"==typeof e.end[a]&&e.end[a](),delete e.end[a]}},f.closeAll=function(a){c.each(c("."+h[0]),function(){var b=c(this);(a?b.attr("type")===a:1)&&f.close(b.attr("times"))})},e.run=function(){c=jQuery,d=c(a),h.html=c("html"),c("<style>.layui-layer{border-radius:2px;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:.3s;animation-duration:.3s}@keyframes bounceIn{0%{opacity:0;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}.layer-anim{-webkit-animation-name:bounceIn;animation-name:bounceIn}.layui-layer-tips{background:0 0;box-shadow:none;border:none}.layui-layer-tips .layui-layer-content{position:relative;line-height:22px;min-width:12px;padding:5px 10px;font-size:12px;border-radius:3px;box-shadow:1px 1px 3px rgba(0,0,0,.3);background-color:#F90;color:#fff}.layui-layer-tips .layui-layer-close{right:-2px;top:-1px}.layui-layer-tips i.layui-layer-TipsG{position:absolute;width:0;height:0;border-width:8px;border-color:transparent;border-style:dashed}.layui-layer-tips i.layui-layer-TipsB,.layui-layer-tips i.layui-layer-TipsT{left:5px;border-right-style:solid;border-right-color:#F90}.layui-layer-tips i.layui-layer-TipsT{bottom:-8px}.layui-layer-tips i.layui-layer-TipsB{top:-8px}.layui-layer-tips i.layui-layer-TipsL,.layui-layer-tips i.layui-layer-TipsR{top:1px;border-bottom-style:solid;border-bottom-color:#F90}.layui-layer-tips i.layui-layer-TipsR{left:-8px}.layui-layer-tips i.layui-layer-TipsL{right:-8px}</style>").appendTo(c("head")),f.open=function(a){return new g(a).index}},"function"==typeof define?define(function(){return e.run(),f}):e.run()}(window);
